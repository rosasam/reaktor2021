{"version":3,"sources":["components/Category.js","components/Header.js","components/Home.js","services/products.js","App.js","index.js"],"names":["Category","name","products","initialVisibleItems","useState","visibleItems","setVisibleItems","className","slice","map","product","price","color","join","manufacturer","availability","id","length","type","onClick","Header","timestamp","buttonHandler","Date","now","time","setTime","useEffect","interval","setInterval","clearInterval","oldTime","newTime","date","timeDelta","Math","max","minutes","floor","toUTCString","formatTimestamp","Home","style","textAlign","fontWeight","baseUrl","getProductsByCategory","category","a","includes","undefined","axios","get","response","data","getProducts","updateProducts","post","App","setProducts","updateTimeStamp","setTimestamp","productService","then","to","path","jackets","shirts","accessories","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.515a1c13.chunk.js","sourcesContent":["import React, { Fragment, useState } from 'react'\nimport './Category.css'\n\nconst Category = ({ name, products, initialVisibleItems }) => {\n  const [visibleItems, setVisibleItems] = useState(initialVisibleItems)\n  const showAll = () => setVisibleItems(products.length)\n\n  return (\n    <div className=\"category\">\n      <h2>{name}</h2>\n      {products\n        ? (\n          <div>\n            <div className=\"grid\">\n              <span className=\"category-header\">Product</span>\n              <span className=\"category-header\">Price</span>\n              <span className=\"category-header\">Colors</span>\n              <span className=\"category-header\">Manufacturer</span>\n              <span className=\"category-header\">Availability</span>\n              {products.slice(0, visibleItems).map((product) => (\n                <Fragment key={product.id}>\n                  <span>{product.name}</span>\n                  <span>\n                    {product.price}\n                    â‚¬\n                  </span>\n                  <span>{product.color.join(', ')}</span>\n                  <span>{product.manufacturer}</span>\n                  <span>{product.availability}</span>\n                </Fragment>\n              ))}\n            </div>\n            { visibleItems < products.length\n              && (\n              <button type=\"submit\" onClick={showAll}>\n                {`Show all items (${products.length - visibleItems} hidden)`}\n              </button>\n              )}\n          </div>\n        )\n        : <div>Loading data</div>}\n    </div>\n  )\n}\n\nexport default Category\n","import React, { useState, useEffect } from 'react'\n\nconst Header = ({ timestamp, buttonHandler }) => {\n  const [time, setTime] = useState(Date.now())\n\n  const formatTimestamp = (oldTime, newTime) => {\n    const date = new Date(oldTime)\n    const timeDelta = Math.max((newTime - oldTime) / 1000, 0)\n    const minutes = Math.floor(timeDelta / 60)\n    return `Data last updated: ${date.toUTCString()} (${minutes} minute${minutes === 1 ? '' : 's'} ago)`\n  }\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTime(Date.now())\n    }, 60000)\n    return () => clearInterval(interval)\n  }, [time])\n\n  return (\n    <div className=\"header\">\n      <div>\n        {timestamp ? formatTimestamp(timestamp, time) : ''}\n        <button type=\"submit\" onClick={buttonHandler}>\n          Update\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nconst Home = () => (\n  <div className=\"category\" style={{ textAlign: 'center' }}>\n    <h2>Wardrobe</h2>\n    <p>Welcome to the Wardrobe-webapp!</p>\n    <p>Select a product category from the sidebar to the left.</p>\n    <p>\n      Use the\n      <span style={{ fontWeight: 'bold' }}> Update</span>\n      -button above to get updated data from BadApi.\n      The data is updated automatically once every hour.\n    </p>\n  </div>\n)\n\nexport default Home\n","import axios from 'axios'\n\nconst baseUrl = '/products/'\n\nconst getProductsByCategory = async (category) => {\n  const categories = ['shirts', 'jackets', 'accessories']\n  if (!categories.includes(category)) {\n    // error handling\n    return undefined\n  }\n  const response = await axios.get(`${baseUrl}${category}`)\n  return response.data\n}\n\nconst getProducts = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst updateProducts = async () => {\n  const response = await axios.post(baseUrl)\n  return response.data\n}\n\nexport default {\n  getProducts,\n  getProductsByCategory,\n  updateProducts,\n}\n","import React, { useState, useEffect } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n} from 'react-router-dom'\nimport './App.css'\nimport Category from './components/Category'\nimport Header from './components/Header'\nimport Home from './components/Home'\nimport productService from './services/products'\n\nconst App = () => {\n  const [products, setProducts] = useState({})\n  const [updateTimeStamp, setTimestamp] = useState(undefined)\n\n  useEffect(() => {\n    productService.getProducts().then((data) => {\n      setProducts(data.data)\n      setTimestamp(data.timestamp)\n    })\n  }, [])\n\n  const handleGetData = () => {\n    setProducts({})\n    productService.updateProducts().then((data) => {\n      setProducts(data.data)\n      setTimestamp(data.timestamp)\n    })\n  }\n\n  return (\n    <Router>\n      <div className=\"app\">\n        <Header\n          timestamp={updateTimeStamp}\n          buttonHandler={handleGetData}\n        />\n        <nav className=\"nav\">\n          <div>\n            <div>\n              <Link to=\"/\">Home</Link>\n            </div>\n            <div>\n              <Link to=\"/jackets\">Jackets</Link>\n            </div>\n            <div>\n              <Link to=\"/shirts\">Shirts</Link>\n            </div>\n            <div>\n              <Link to=\"/accessories\">Accessories</Link>\n            </div>\n          </div>\n        </nav>\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/jackets\">\n            <Category key=\"jackets\" name=\"Jackets\" products={products.jackets} initialVisibleItems={50} />\n          </Route>\n          <Route path=\"/shirts\">\n            <Category key=\"shirts\" name=\"Shirts\" products={products.shirts} initialVisibleItems={50} />\n          </Route>\n          <Route path=\"/accessories\">\n            <Category key=\"accessories\" name=\"Accessories\" products={products.accessories} initialVisibleItems={50} />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}