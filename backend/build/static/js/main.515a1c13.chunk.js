(this["webpackJsonpwardrobe-frontend"]=this["webpackJsonpwardrobe-frontend"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},61:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c.n(a),s=c(28),i=c.n(s),o=(c(35),c(8)),d=c(11),j=c(2),u=(c(36),c(37),function(e){var t=e.name,c=e.products,r=e.initialVisibleItems,s=Object(a.useState)(r),i=Object(o.a)(s,2),d=i[0],j=i[1];return Object(n.jsxs)("div",{className:"category",children:[Object(n.jsx)("h2",{children:t}),c?Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"grid",children:[Object(n.jsx)("span",{className:"category-header",children:"Product"}),Object(n.jsx)("span",{className:"category-header",children:"Price"}),Object(n.jsx)("span",{className:"category-header",children:"Colors"}),Object(n.jsx)("span",{className:"category-header",children:"Manufacturer"}),Object(n.jsx)("span",{className:"category-header",children:"Availability"}),c.slice(0,d).map((function(e){return Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("span",{children:e.name}),Object(n.jsxs)("span",{children:[e.price,"\u20ac"]}),Object(n.jsx)("span",{children:e.color.join(", ")}),Object(n.jsx)("span",{children:e.manufacturer}),Object(n.jsx)("span",{children:e.availability})]},e.id)}))]}),d<c.length&&Object(n.jsx)("button",{type:"submit",onClick:function(){return j(c.length)},children:"Show all items (".concat(c.length-d," hidden)")})]}):Object(n.jsx)("div",{children:"Loading data"})]})}),l=function(e){var t=e.timestamp,c=e.buttonHandler,r=Object(a.useState)(Date.now()),s=Object(o.a)(r,2),i=s[0],d=s[1];return Object(a.useEffect)((function(){var e=setInterval((function(){d(Date.now())}),6e4);return function(){return clearInterval(e)}}),[i]),Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("div",{children:[t?function(e,t){var c=new Date(e),n=Math.max((t-e)/1e3,0),a=Math.floor(n/60);return"Data last updated: ".concat(c.toUTCString()," (").concat(a," minute").concat(1===a?"":"s"," ago)")}(t,i):"",Object(n.jsx)("button",{type:"submit",onClick:c,children:"Update"})]})})},b=function(){return Object(n.jsxs)("div",{className:"category",style:{textAlign:"center"},children:[Object(n.jsx)("h2",{children:"Wardrobe"}),Object(n.jsx)("p",{children:"Welcome to the Wardrobe-webapp!"}),Object(n.jsx)("p",{children:"Select a product category from the sidebar to the left."}),Object(n.jsxs)("p",{children:["Use the",Object(n.jsx)("span",{style:{fontWeight:"bold"},children:" Update"}),"-button above to get updated data from BadApi. The data is updated automatically once every hour."]})]})},h=c(10),p=c.n(h),O=c(13),x=c(14),f=c.n(x),m="/products/",v=function(){var e=Object(O.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(["shirts","jackets","accessories"].includes(t)){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,f.a.get("".concat(m).concat(t));case 5:return c=e.sent,e.abrupt("return",c.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g={getProducts:function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(m);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProductsByCategory:v,updateProducts:function(){var e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(m);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},y=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(void 0),i=Object(o.a)(s,2),h=i[0],p=i[1];Object(a.useEffect)((function(){g.getProducts().then((function(e){r(e.data),p(e.timestamp)}))}),[]);return Object(n.jsx)(d.a,{children:Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(l,{timestamp:h,buttonHandler:function(){r({}),g.updateProducts().then((function(e){r(e.data),p(e.timestamp)}))}}),Object(n.jsx)("nav",{className:"nav",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{to:"/",children:"Home"})}),Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{to:"/jackets",children:"Jackets"})}),Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{to:"/shirts",children:"Shirts"})}),Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{to:"/accessories",children:"Accessories"})})]})}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/jackets",children:Object(n.jsx)(u,{name:"Jackets",products:c.jackets,initialVisibleItems:50},"jackets")}),Object(n.jsx)(j.a,{path:"/shirts",children:Object(n.jsx)(u,{name:"Shirts",products:c.shirts,initialVisibleItems:50},"shirts")}),Object(n.jsx)(j.a,{path:"/accessories",children:Object(n.jsx)(u,{name:"Accessories",products:c.accessories,initialVisibleItems:50},"accessories")}),Object(n.jsx)(j.a,{path:"/",children:Object(n.jsx)(b,{})})]})]})})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.515a1c13.chunk.js.map